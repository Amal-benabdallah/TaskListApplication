{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\TaskListApp\\\\client\\\\src\\\\components\\\\TaskItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateTaskAction } from '../features/tasks/tasksSlice';\nimport { updateTask } from '../services/taskService';\nimport ProgressBar from './ProgressBar';\nimport { Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskItem = ({\n  task\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const [progressBarStatus, setProgressBarStatus] = useState(task.status || 'ToDo');\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'High':\n        return 'red';\n      case 'Medium':\n        return 'orange';\n      case 'Low':\n        return 'green';\n      default:\n        return 'black';\n    }\n  };\n  const handleStatusChange = async newStatus => {\n    const updatedTask = {\n      ...task,\n      status: newStatus\n    };\n    try {\n      const result = await updateTask(task.id, updatedTask);\n      dispatch(updateTaskAction(result));\n      setProgressBarStatus(newStatus); // Update progress bar status after successful update\n    } catch (error) {\n      console.error('Error updating task status:', error);\n    }\n  };\n  const handleNextStatus = () => {\n    const statuses = ['ToDo', 'InProgress', 'Completed'];\n    const currentStatusIndex = statuses.indexOf(progressBarStatus);\n    const nextStatusIndex = (currentStatusIndex + 1) % statuses.length;\n    const newStatus = statuses[nextStatusIndex];\n    handleStatusChange(newStatus);\n  };\n  const handleDelete = async task => {\n    try {\n      await deleteTask(task.id);\n      dispatch(deleteTaskAction(task.id));\n    } catch (error) {\n      console.error('Failed to delete task:', error);\n    } finally {\n      setShowConfirmDialog(false);\n    }\n  };\n  const confirmDelete = task => {\n    setCurrentTask(task);\n    setShowConfirmDialog(true);\n  };\n  const handleEditClick = task => {\n    setCurrentTask(task);\n    setShowEditForm(true);\n  };\n\n  // Determine the button text based on the current status\n  const buttonText = progressBarStatus === 'Completed' ? 'Completed' : progressBarStatus === 'InProgress' ? 'InProgress' : 'ToDo';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: '10px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: task.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: getPriorityColor(task.priority)\n      },\n      children: task.priority\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n      status: progressBarStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleNextStatus,\n      children: buttonText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: () => handleEditClick(task),\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      color: \"error\",\n      onClick: () => confirmDelete(task),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(TaskItem, \"B9mJlnSchBAJs8pJ0mcsTPGDf5Q=\", false, function () {\n  return [useDispatch];\n});\n_c = TaskItem;\nexport default TaskItem;\nvar _c;\n$RefreshReg$(_c, \"TaskItem\");","map":{"version":3,"names":["React","useState","useDispatch","updateTaskAction","updateTask","ProgressBar","Button","jsxDEV","_jsxDEV","TaskItem","task","_s","dispatch","progressBarStatus","setProgressBarStatus","status","getPriorityColor","priority","handleStatusChange","newStatus","updatedTask","result","id","error","console","handleNextStatus","statuses","currentStatusIndex","indexOf","nextStatusIndex","length","handleDelete","deleteTask","deleteTaskAction","setShowConfirmDialog","confirmDelete","setCurrentTask","handleEditClick","setShowEditForm","buttonText","style","display","alignItems","justifyContent","marginBottom","children","name","fileName","_jsxFileName","lineNumber","columnNumber","color","variant","onClick","_c","$RefreshReg$"],"sources":["D:/Bureau/TaskListApp/client/src/components/TaskItem.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateTaskAction } from '../features/tasks/tasksSlice';\r\nimport { updateTask } from '../services/taskService';\r\nimport ProgressBar from './ProgressBar';\r\nimport { Button } from '@mui/material';\r\n\r\nconst TaskItem = ({ task }) => {\r\n    const dispatch = useDispatch();\r\n    const [progressBarStatus, setProgressBarStatus] = useState(task.status || 'ToDo');\r\n\r\n    const getPriorityColor = (priority) => {\r\n        switch (priority) {\r\n            case 'High': return 'red';\r\n            case 'Medium': return 'orange';\r\n            case 'Low': return 'green';\r\n            default: return 'black';\r\n        }\r\n    };\r\n\r\n    const handleStatusChange = async (newStatus) => {\r\n        const updatedTask = { ...task, status: newStatus };\r\n        try {\r\n            const result = await updateTask(task.id, updatedTask);\r\n            dispatch(updateTaskAction(result));\r\n            setProgressBarStatus(newStatus); // Update progress bar status after successful update\r\n        } catch (error) {\r\n            console.error('Error updating task status:', error);\r\n        }\r\n    };\r\n\r\n    const handleNextStatus = () => {\r\n        const statuses = ['ToDo', 'InProgress', 'Completed'];\r\n        const currentStatusIndex = statuses.indexOf(progressBarStatus);\r\n        const nextStatusIndex = (currentStatusIndex + 1) % statuses.length;\r\n        const newStatus = statuses[nextStatusIndex];\r\n        handleStatusChange(newStatus);\r\n    };\r\n    const handleDelete = async (task) => {\r\n        try {\r\n            await deleteTask(task.id);\r\n            dispatch(deleteTaskAction(task.id));\r\n        } catch (error) {\r\n            console.error('Failed to delete task:', error);\r\n        } finally {\r\n            setShowConfirmDialog(false);\r\n        }\r\n    };\r\n\r\n    const confirmDelete = (task) => {\r\n        setCurrentTask(task);\r\n        setShowConfirmDialog(true);\r\n    };\r\n\r\n    const handleEditClick = (task) => {\r\n        setCurrentTask(task);\r\n        setShowEditForm(true);\r\n    };\r\n\r\n    // Determine the button text based on the current status\r\n    const buttonText = progressBarStatus === 'Completed' ? 'Completed' : progressBarStatus === 'InProgress' ? 'InProgress' : 'ToDo';\r\n\r\n    return (\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '10px' }}>\r\n            <span>{task.name}</span>\r\n            <span style={{ color: getPriorityColor(task.priority) }}>{task.priority}</span>\r\n            <ProgressBar status={progressBarStatus} />\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleNextStatus}>\r\n                {buttonText}\r\n            </Button>\r\n            <Button variant=\"contained\" color=\"secondary\" onClick={() => handleEditClick(task)}>Edit</Button>\r\n            <Button variant=\"outlined\" color=\"error\" onClick={() => confirmDelete(task)}>Delete</Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TaskItem;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,UAAU,QAAQ,yBAAyB;AACpD,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACW,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGb,QAAQ,CAACS,IAAI,CAACK,MAAM,IAAI,MAAM,CAAC;EAEjF,MAAMC,gBAAgB,GAAIC,QAAQ,IAAK;IACnC,QAAQA,QAAQ;MACZ,KAAK,MAAM;QAAE,OAAO,KAAK;MACzB,KAAK,QAAQ;QAAE,OAAO,QAAQ;MAC9B,KAAK,KAAK;QAAE,OAAO,OAAO;MAC1B;QAAS,OAAO,OAAO;IAC3B;EACJ,CAAC;EAED,MAAMC,kBAAkB,GAAG,MAAOC,SAAS,IAAK;IAC5C,MAAMC,WAAW,GAAG;MAAE,GAAGV,IAAI;MAAEK,MAAM,EAAEI;IAAU,CAAC;IAClD,IAAI;MACA,MAAME,MAAM,GAAG,MAAMjB,UAAU,CAACM,IAAI,CAACY,EAAE,EAAEF,WAAW,CAAC;MACrDR,QAAQ,CAACT,gBAAgB,CAACkB,MAAM,CAAC,CAAC;MAClCP,oBAAoB,CAACK,SAAS,CAAC,CAAC,CAAC;IACrC,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD;EACJ,CAAC;EAED,MAAME,gBAAgB,GAAGA,CAAA,KAAM;IAC3B,MAAMC,QAAQ,GAAG,CAAC,MAAM,EAAE,YAAY,EAAE,WAAW,CAAC;IACpD,MAAMC,kBAAkB,GAAGD,QAAQ,CAACE,OAAO,CAACf,iBAAiB,CAAC;IAC9D,MAAMgB,eAAe,GAAG,CAACF,kBAAkB,GAAG,CAAC,IAAID,QAAQ,CAACI,MAAM;IAClE,MAAMX,SAAS,GAAGO,QAAQ,CAACG,eAAe,CAAC;IAC3CX,kBAAkB,CAACC,SAAS,CAAC;EACjC,CAAC;EACD,MAAMY,YAAY,GAAG,MAAOrB,IAAI,IAAK;IACjC,IAAI;MACA,MAAMsB,UAAU,CAACtB,IAAI,CAACY,EAAE,CAAC;MACzBV,QAAQ,CAACqB,gBAAgB,CAACvB,IAAI,CAACY,EAAE,CAAC,CAAC;IACvC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD,CAAC,SAAS;MACNW,oBAAoB,CAAC,KAAK,CAAC;IAC/B;EACJ,CAAC;EAED,MAAMC,aAAa,GAAIzB,IAAI,IAAK;IAC5B0B,cAAc,CAAC1B,IAAI,CAAC;IACpBwB,oBAAoB,CAAC,IAAI,CAAC;EAC9B,CAAC;EAED,MAAMG,eAAe,GAAI3B,IAAI,IAAK;IAC9B0B,cAAc,CAAC1B,IAAI,CAAC;IACpB4B,eAAe,CAAC,IAAI,CAAC;EACzB,CAAC;;EAED;EACA,MAAMC,UAAU,GAAG1B,iBAAiB,KAAK,WAAW,GAAG,WAAW,GAAGA,iBAAiB,KAAK,YAAY,GAAG,YAAY,GAAG,MAAM;EAE/H,oBACIL,OAAA;IAAKgC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE,QAAQ;MAAEC,cAAc,EAAE,eAAe;MAAEC,YAAY,EAAE;IAAO,CAAE;IAAAC,QAAA,gBACzGrC,OAAA;MAAAqC,QAAA,EAAOnC,IAAI,CAACoC;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACxB1C,OAAA;MAAMgC,KAAK,EAAE;QAAEW,KAAK,EAAEnC,gBAAgB,CAACN,IAAI,CAACO,QAAQ;MAAE,CAAE;MAAA4B,QAAA,EAAEnC,IAAI,CAACO;IAAQ;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eAC/E1C,OAAA,CAACH,WAAW;MAACU,MAAM,EAAEF;IAAkB;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1C1C,OAAA,CAACF,MAAM;MAAC8C,OAAO,EAAC,WAAW;MAACD,KAAK,EAAC,SAAS;MAACE,OAAO,EAAE5B,gBAAiB;MAAAoB,QAAA,EACjEN;IAAU;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eACT1C,OAAA,CAACF,MAAM;MAAC8C,OAAO,EAAC,WAAW;MAACD,KAAK,EAAC,WAAW;MAACE,OAAO,EAAEA,CAAA,KAAMhB,eAAe,CAAC3B,IAAI,CAAE;MAAAmC,QAAA,EAAC;IAAI;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACjG1C,OAAA,CAACF,MAAM;MAAC8C,OAAO,EAAC,UAAU;MAACD,KAAK,EAAC,OAAO;MAACE,OAAO,EAAEA,CAAA,KAAMlB,aAAa,CAACzB,IAAI,CAAE;MAAAmC,QAAA,EAAC;IAAM;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3F,CAAC;AAEd,CAAC;AAACvC,EAAA,CAnEIF,QAAQ;EAAA,QACOP,WAAW;AAAA;AAAAoD,EAAA,GAD1B7C,QAAQ;AAqEd,eAAeA,QAAQ;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}